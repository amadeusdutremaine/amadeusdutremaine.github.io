<!-- projects.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Projects | Amadeus Dutremaine</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="site-header"></div>

  <main>
    <section>
      <h2>Project GymBro</h2>
      <p>A wearable fitness tracker built using an ATmega32 microcontroller and biosensors, designed to collect and display real-time workout data through a custom Python GUI.</p>
      <details>
        <summary>View Project Details</summary>
        <p>[Full data and technical details will be added soon.]</p>
      </details>
    </section>

    <section>
      <h2>Dr. Phisher</h2>
      <p>An AI-powered phishing detection chatbot built using OpenAI's API and Flask, designed to flag malicious emails and provide real-time analysis and user feedback.</p>
      <details>
        <summary>View Project Details</summary>
        <p>[Full data and technical details will be added soon.]</p>
      </details>
    </section>

    <section>
      <h2>Hydracat Lynx V5</h2>
      <p>An autonomous Unmanned Surface Vessel (USV) integration project focused on secure system design, sensor fusion, and control for coastal surveillance and marine telemetry.</p>
      <details>
        <summary>View Project Details</summary>
        <p>[Full data and technical details will be added soon.]</p>
      </details>
    </section>
  </main>

  <div id="site-footer"></div>

  <script>
    fetch('header.html')
      .then(res => res.text())
      .then(data => {
        document.getElementById('site-header').innerHTML = data;
        const titleMap = {
          'index.html': 'Home',
          'projects.html': 'Projects',
          'education.html': 'Education',
          'resume.html': 'Resume',
          'labs.html': 'Labs & Games',
          'concepts.html': 'Concepts & Reports'
        };
        const current = window.location.pathname.split('/').pop();
        document.getElementById('page-title').textContent = titleMap[current] || 'Welcome';
      });

fetch('footer.html')
  .then(res => res.text())
  .then(data => {
    document.getElementById('site-footer').innerHTML = data;

    // Now attach searchSite handler after footer is injected
    const button = document.querySelector('#site-footer button');
    if (button) {
      button.addEventListener('click', () => {
        const query = document.getElementById('site-search').value.trim().toLowerCase();
        if (!query) return;

        const siteContent = [
          {
            title: "Home",
            url: "index.html",
            content: "Cybersecurity analyst, computer engineering, AV/IT, certifications, LinkedIn."
          },
          {
            title: "Projects",
            url: "projects.html",
            content: "GymBro, Dr. Phisher, Hydracat Lynx, embedded systems, AI chatbot."
          },
          {
            title: "Education",
            url: "education.html",
            content: "UTRGV, South Texas College, dual degree, Security+, Network+, coursework, certifications."
          },
          {
            title: "Resume",
            url: "resume.html",
            content: "Work experience, AV technician, MerLion, CodePath, leadership, skills, tools."
          },
          {
            title: "Labs & Games",
            url: "labs.html",
            content: "Hash cracker, Regex game, metadata, packet capture, HTTPS analysis, EXIF."
          }
        ];

        const fuse = new Fuse(siteContent, {
          keys: ['title', 'content'],
          threshold: 0.3
        });

        const results = fuse.search(query);
        if (results.length > 0) {
          window.location.href = results[0].item.url;
        } else {
          alert('No matching pages found.');
        }
      });
    }
  });

  </script>
</body>
</html>
